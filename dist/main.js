!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).xmUtils=t()}(this,(function(){"use strict";function e(e,r=""){if(function(e){if("String"!==t(e))throw new Error(`${e}有误`);if(!/^[a-zA-Z]+$/g.test(e))throw new Error(`${e}有误`)}(e),"String"!==t(r))throw new Error("tipsParams: 参数param有误");throw new Error(`${e}: 参数${r}有误`)}function t(e){const t=Object.prototype.toString.call(e);return t.slice(8,t.length-1)}var r={variableType:t};function n(r){if("Object"!==t(r))return e("filterNumberKeys","obj");const n={};for(const e in r)if(Object.hasOwnProperty.call(r,e)&&Number.isNaN(+e)){const t=r[e];n[e]=t}return n}function a(e){return"Array"==t(e)?function(e){const t=[];for(const r of e)r==e?t.push(t):t.push(a(r));return t}(e):"Object"==t(e)?function(e){const t={};for(const r in e)if(Object.hasOwnProperty.call(e,r)){const n=e[r];t[r]=n==e?t:a(n)}return t}(e):"Map"==t(e)?function(e){const t=new Map;for(const[r,n]of e)n==e?t.set(r,t):t.set(r,a(n));return t}(e):"Set"==t(e)?function(e){const t=new Set;for(const r of e)r==e?t.add(t):t.add(a(r));return t}(e):"Date"==t(e)?new Date((new Date).setTime(e.getTime())):"RegExp"==t(e)?new RegExp(e.source,e.flags):"Function"==t(e)?e.bind():e}const o=function(e){e.preventDefault()};var i={filterNumberKeys:n,capitalizedFirstLetter:function(r){return"String"!==t(r)?e("capitalizedFirstLetter","params"):/^[a-zA-Z\s]+$/g.test(r)?r.slice(0,1).toUpperCase()+r.slice(1):e("capitalizedFirstLetter","params")},percentNum:function(r,n,a=1){return"Number"!==t(r)?e("percentNum","num"):"Number"!==t(n)?e("percentNum","num2"):-1===[0,1].indexOf(a)?e("percentNum","type"):0===r||0===n?0==a?"0%":"0.00%":0===a?`${Math.round(r/n*100)}%`:`${(Math.round(r/n*1e4)/100).toFixed(2)}%`},uniqueArray:function(r){return"Array"!==t(r)?e("uniqueArray","arr"):0===r.length?r:[...new Set(r)]},uniqueComplexArray:function(r,n,a=1){if("Array"!==t(r))return e("uniqueComplexArray","arr");if("String"!==t(n))return e("uniqueComplexArray","key");if(-1===[0,1].indexOf(a))return e("uniqueComplexArray","type");if(0===r.length)return r;0===a&&(r=r.reverse());const o=new Map,i=r.filter((e=>!o.has(e[n])&&o.set(e[n],1)));return 0===a?i.reverse():i},randomNums:function(r={}){const{min:n=2,max:a=32}=r;let{length:o=5}=r;if("Number"!==t(o)||"Number"!==t(n)||"Number"!==t(a))return e("randomNums","params");if(o<=0||a<=n)return e("randomNums","params");a-n<o&&(o=a-n+1);const i=[];for(let e=o;e>0;e--){const e=Math.round(Math.random()*(a-n))+n;i.includes(e)||i.push(e)}return i},getMinNMax:function(r){if("Array"!==t(r))return e("getMinNMax","arr");if(0===r.length)return;let n=r[0],a=r[0];for(let e=1;e<r.length;e++)n>r[e]&&(n=r[e]),a<r[e]&&(a=r[e]);return{min:n,max:a}},flatArray:function(r){return"Array"!==t(r)?e("flatArray","arr"):0===r.length?r:Array.prototype.flat.call(r,1/0)},debounce:function(e,t){let r=null;return function(...n){clearTimeout(r),r=setTimeout((()=>{e.apply(this,n)}),t)}},throttle:function(e,t){let r=!0;return function(...n){r&&(r=!1,setTimeout((()=>{e.apply(this,n),r=!0}),t))}},deepClone:a,stop:function(){document.body.style.overflow="hidden",document.addEventListener("touchmove",o,!1)},move:function(){document.body.style.overflow="",document.removeEventListener("touchmove",o,!1)},numFormat:function(r){return"Number"!==t(r)?e("numFormat","num"):r.toString().replace(/\d+/,(e=>e.replace(/(\d)(?=(\d{3})+$)/g,(e=>`${e},`))))},isEmptyObject:function(r){return"Object"!==t(r)?e("isEmptyObject","obj"):0===Object.keys(r).length}};const l={lightpink:"#FFB6C1",pink:"#FFC0CB",crimson:"#DC143C",lavenderblush:"#FFF0F5",palevioletred:"#DB7093",hotpink:"#FF69B4",deeppink:"#FF1493",mediumvioletred:"#C71585",orchid:"#DA70D6",thistle:"#D8BFD8",plum:"#DDA0DD",violet:"#EE82EE",magenta:"#FF00FF",fuchsia:"#FF00FF",darkmagenta:"#8B008B",purple:"#800080",mediumorchid:"#BA55D3",darkvoilet:"#9400D3",darkorchid:"#9932CC",indigo:"#4B0082",blueviolet:"#8A2BE2",mediumpurple:"#9370DB",mediumslateblue:"#7B68EE",slateblue:"#6A5ACD",darkslateblue:"#483D8B",lavender:"#E6E6FA",ghostwhite:"#F8F8FF",blue:"#0000FF",mediumblue:"#0000CD",midnightblue:"#191970",darkblue:"#00008B",navy:"#000080",royalblue:"#4169E1",cornflowerblue:"#6495ED",lightsteelblue:"#B0C4DE",lightslategray:"#778899",slategray:"#708090",doderblue:"#1E90FF",aliceblue:"#F0F8FF",steelblue:"#4682B4",lightskyblue:"#87CEFA",skyblue:"#87CEEB",deepskyblue:"#00BFFF",lightblue:"#ADD8E6",powderblue:"#B0E0E6",cadetblue:"#5F9EA0",azure:"#F0FFFF",lightcyan:"#E1FFFF",paleturquoise:"#AFEEEE",cyan:"#00FFFF",aqua:"#D4F2E7",darkturquoise:"#00CED1",darkslategray:"#2F4F4F",darkcyan:"#008B8B",teal:"#008080",mediumturquoise:"#48D1CC",lightseagreen:"#20B2AA",turquoise:"#40E0D0",auqamarin:"#7FFFAA",mediumaquamarine:"#00FA9A",mediumspringgreen:"#00FF7F",mintcream:"#F5FFFA",springgreen:"#3CB371",seagreen:"#2E8B57",honeydew:"#F0FFF0",lightgreen:"#90EE90",palegreen:"#98FB98",darkseagreen:"#8FBC8F",limegreen:"#32CD32",lime:"#00FF00",forestgreen:"#228B22",green:"#008000",darkgreen:"#006400",chartreuse:"#7FFF00",lawngreen:"#7CFC00",greenyellow:"#ADFF2F",olivedrab:"#556B2F",beige:"#F5F5DC",lightgoldenrodyellow:"#FAFAD2",ivory:"#FFFFF0",lightyellow:"#FFFFE0",yellow:"#FFFF00",olive:"#808000",darkkhaki:"#BDB76B",lemonchiffon:"#FFFACD",palegodenrod:"#EEE8AA",khaki:"#F0E68C",gold:"#FFD700",cornislk:"#FFF8DC",goldenrod:"#DAA520",floralwhite:"#FFFAF0",oldlace:"#FDF5E6",wheat:"#F5DEB3",moccasin:"#FFE4B5",orange:"#FFA500",papayawhip:"#FFEFD5",blanchedalmond:"#FFEBCD",navajowhite:"#FFDEAD",antiquewhite:"#FAEBD7",tan:"#D2B48C",brulywood:"#DEB887",bisque:"#FFE4C4",darkorange:"#FF8C00",linen:"#FAF0E6",peru:"#CD853F",peachpuff:"#FFDAB9",sandybrown:"#F4A460",chocolate:"#D2691E",saddlebrown:"#8B4513",seashell:"#FFF5EE",sienna:"#A0522D",lightsalmon:"#FFA07A",coral:"#FF7F50",orangered:"#FF4500",darksalmon:"#E9967A",tomato:"#FF6347",mistyrose:"#FFE4E1",salmon:"#FA8072",snow:"#FFFAFA",lightcoral:"#F08080",rosybrown:"#BC8F8F",indianred:"#CD5C5C",red:"#FF0000",brown:"#A52A2A",firebrick:"#B22222",darkred:"#8B0000",maroon:"#800000",white:"#FFFFFF",whitesmoke:"#F5F5F5",gainsboro:"#DCDCDC",lightgrey:"#D3D3D3",silver:"#C0C0C0",darkgray:"#A9A9A9",gray:"#808080",dimgray:"#696969",black:"#000000"};function u(e){return e=e.trim().toLowerCase(),!!l[e]}function s(t){return u(t=t.trim().toLowerCase())?p(l[t]):e("stringColor2RGB","val")}function c(t){return u(t=t.trim().toLowerCase())?l[t]:e("stringColor2HEX","val")}function f(e){return e=e.trim().replace(/ /g,""),/^rgb\(\d{1,3}\,\d{1,3}\,\d{1,3}\)$/g.test(e)}function F(e){return m(e)||g(e)}function m(e){return e=e.trim(),/^#[0-9a-zA-Z]{3}$/g.test(e)}function g(e){return e=e.trim(),/^#[0-9a-zA-Z]{6}$/g.test(e)}function d(t){if(f(t=t.trim().replace(/ /g,""))){const e=t.slice(4,-1).split(",");for(const t in e)if(Object.hasOwnProperty.call(e,t)){const r=e[t];e[t]=(r-0).toString(16)}return`#${e.join("").toUpperCase()}`}return e("RGB2HEX","RGBVal")}function p(t){if(m(t=t.trim())){const e=t.slice(1,2),r=t.slice(2,3),n=t.slice(3,4);return`rgb(${`${Number.parseInt(e+e,16)},${Number.parseInt(r+r,16)},${Number.parseInt(n+n,16)}`})`}if(g(t)){const e=t.slice(1,3),r=t.slice(3,5),n=t.slice(5,7);return`rgb(${`${Number.parseInt(e,16)},${Number.parseInt(r,16)},${Number.parseInt(n,16)}`})`}return e("HEX2RGB","HEXVal")}function h(t){const r=t.trim();if(m(r)){const e=r.slice(1,2),t=r.slice(2,3),n=r.slice(3,4);return`#${e+e+t+t+n+n}`}return g(t)?t:e("shortHEXVal2LongHEXVal","HEXVal")}function D(e,t){const r={};for(const n in e)if(Object.hasOwnProperty.call(e,n)){const a=e[n],o=t[n];r[n]=!a&&o?o:a&&!o||a&&o&&("initial"===o||a===o)?a:o}for(const e in t)if(Object.hasOwnProperty.call(t,e)){const n=t[e];r[e]||(r[e]=n)}return r}var y={isColorVal:function(e){return f(e)||F(e)||u(e)},isStringColorVal:u,stringColor2RGB:s,stringColor2HEX:c,isRGBVal:f,isHEXVal:F,isShortHEXVal:m,isLongHEXVal:g,RGB2HEX:d,HEX2RGB:p,shortHEXVal2LongHEXVal:h,eqColorVal:function(t,r){return t=t.trim(),r=r.trim(),f(t)&&f(r)?function(t,r){return t=t.trim(),r=r.trim(),f(t)?f(r)?t.replace(/ /g,"")==r.replace(/ /g,""):e("eqRGBVal","val2"):e("eqRGBVal","val1")}(t,r):F(t)&&F(r)?function(t,r){return t=t.trim(),r=r.trim(),F(t)?F(r)?h(t).toUpperCase()==h(r).toUpperCase():e("eqHEXVal","val2"):e("eqHEXVal","val1")}(t,r):u(t)&&u(r)?function(t,r){return t=t.trim(),r=r.trim(),u(t)?u(r)?t.toLowerCase()==r.toLowerCase():e("eqStringColorVal","val2"):e("eqStringColorVal","val1")}(t,r):f(t)&&F(r)||F(t)&&f(r)?function(t,r){return f(t)&&F(r)?h(d(t))==h(r).toUpperCase():F(t)&&f(r)?h(d(r))==h(t).toUpperCase():e("eqRGBNHEX","val1|val2")}(t,r):u(t)&&!u(r)||!u(t)&&u(r)?function(t,r){return u(t)&&f(r)?s(t)==r.replace(/ /g,""):u(t)&&F(r)?c(t).toUpperCase()==h(r).toUpperCase():u(r)&&f(t)?s(r)==t.replace(/ /g,""):u(r)&&F(t)?c(r).toUpperCase()==h(t).toUpperCase():e("eqColorVal","val1|val2")}(t,r):e("eqColorVal","val1|val2")},assignCssObj:D,getCSSStyle:function(t){return t instanceof window.HTMLElement?D(n(window.getComputedStyle(t)),n(t.style)):e("getCSSStyle","dom")}};function b(e,t,r){let n=e.getMonth()+1;n=n<10?`0${n}`:n;let a=e.getDate();a=a<10?`0${a}`:a;const o=e.getDay();let i=["周日","周一","周二","周三","周四","周五","周六"][o];return r&&t===o&&(i="今日"),{date:`${n}/${a}`,week:i}}function E(r,n){return"String"!==t(r)&&"Number"!==t(r)?e("fillZero","str"):"Number"!==t(n)?e("fillZero","len"):w(r,n,0)}function w(r,n,a){if("String"!==t(r)&&"Number"!==t(r))return e("fillStr","str");if("Number"!==t(n))return e("fillStr","len");if("String"!==t(a)&&"Number"!==t(a))return e("fillStr","fill");const o=(r=`${r}`).length;if(o>=n)return r;const i=n-o;return`${a}`.repeat(i)+r}var C={getWeekDate:function(t=-1,r=!1){if(-1===[-1,0].indexOf(t))return e("getWeekDate","startDay");if("boolean"!=typeof r)return e("getWeekDate","showToday");const n=new Date,a=n.getDate(),o=n.getDay();let i,l;const u=[];for(0===t&&0===o||-1===t?l=0:0==t&&0!==o&&(l=-o),i=l;i<=6+l;i++){const e=new Date;e.setDate(a+i),u.push(b(e,o,r))}return u},getDateInfoNWeek:b,formatDate:function(t,r="YYYY-MM-DD"){if(!(t instanceof Date))return e("formatDate","dateObj");const n=function(e){const t={Y:[2,4],M:[1,2],D:[1,2],H:[1,2],h:[1,2],m:[1,2],s:[1,2]},r=e.match(/[a-zA-Z]+/g);if(!r)return;const n=e.match(/[Hh]+/g);if(n&&2==n.length)return;for(const e of r){const r=e[0],n=e.length;if(!t[r]||!t[r].includes(n))return;if(r.repeat(n)!=e)return}const a=e.match(/[^a-zA-Z]/g);if(!a)return;if(a.length+1!=r.length)return;return{formatSign:r,formatSplit:a}}(r);return n?function(e,t){const{formatSign:r,formatSplit:n}=t;let a=0,o="";const i=e.getFullYear(),l=e.getMonth()+1,u=e.getDate(),s=e.getHours(),c=e.getMinutes(),f=e.getSeconds(),F={Y:i,M:l,D:u,H:s,h:s>12?s-12:s,m:c,s:f};for(const e of r){const t=e[0],r=e.length,i=F[t];o+="Y"==t&&2==r?`${i}`.slice(-2):2==r?E(i,2):i,a<n.length&&(o+=n[a++])}return o}(t,n):e("formatDate","formatStr")},fillZero:E,fillStr:w,getDays:function r(n,a,o,i){if(-1===[0,1,2,3,4,5,6].indexOf(n))return e("getDays","weekday");if(a<=0)return e("getDays","num");const l=new Date;if(o&&("Number"!==t(o)||o<l.getTime()))return e("getDays","startDay");if(i&&"Array"!==t(i))return e("getDays","lastResult");const u=o?new Date(o):l,s=u.getDay(),c=864e5;let f;const F=i||[];s==n?f=7*c:s<n?f=(n-s)*c:s>n&&(f=(7-s+n)*c);const m=new Date(u.getTime()+f);return F.push(m),--a&&r(n,a,m.getTime(),F),F},getTimeDiffFormat:function(r){if("Number"!==t(r))return e("getTimeDiffFormat","time");const n=r,a=(new Date).getTime();if(a<n)return e("getTimeDiffFormat","time");const o=a-n,i=1e3,l=6e4,u=36e5,s=24*u,c=30*s,f=12*c;return o<i?"刚刚":o<l?`${parseInt(o/i)}秒前`:o<u?`${parseInt(o/l)}分钟前`:o<s?`${parseInt(o/u)}小时前`:o<c?`${parseInt(o/s)}天前`:o<f?`${parseInt(o/c)}月前`:`${parseInt(o/f)}年前`},getMonthDay:function(r=!1,n=!1,a=new Date){if("Boolean"!==t(r))return e("getMonthDay","isFillBlank");if("Boolean"!==t(n))return e("getMonthDay","isFirstDayMonday");let o;if(void 0!==a)if("String"===t(a)){const t=a.split(/[^\d]/g);if(2!==t.length)return e("getMonthDay","customDate");o=new Date(t.join("-"))}else if("Number"===t(a))o=new Date(a);else{if("Date"!==t(a))return e("getMonthDay","customDate");o=a}const i=`${o.getFullYear()}-${o.getMonth()+1}-1`,l=`${o.getFullYear()}-${o.getMonth()+2}-1`,u=new Date(i),s=new Date(new Date(l).getTime()-864e5),c=u.getDay(),f=s.getDate(),F=[];for(let e=0;e<f;e++)F.push({date:e+1,weekday:(c+e)%7});if(r){const e=s.getDay();let t=c,r=7-e-1;n&&(t=(c+6)%7,r=(7-e)%7);const a=[{},{},{},{},{},{},{}];F.unshift(...a.slice(0,t)),F.push(...a.slice(0,r))}return F}};function A(r,n){if("String"!==t(r))return e("getUrlParam","key");if("String"!==t(n))return e("getUrlParam","url");return new URL(n||location.href).searchParams.get(r)||""}function B(r,n,a){if("String"!==t(r))return e("setUrlParam","key");if("String"!==t(n)||"Number"!==t(n))return e("setUrlParam","val");if("String"!==t(a))return e("setUrlParam","url");const o=new URL(a||location.href);return o.searchParams.set(r,n),o.href}function v(r,n){if("String"!==t(r))return e("deleteUrlParam","key");if("String"!==t(n))return e("deleteUrlParam","url");const a=new URL(n||location.href);return a.searchParams.delete(r),a.href}var k={getUrlParam:A,getUrlParams:function(r,n){if("Array"!==t(r))return e("getUrlParams","keys");if("String"!==t(n))return e("getUrlParams","url");const a={},o=i.uniqueArray(r);for(const e of o)a[e]=A(e,n);return a},setUrlParam:B,setUrlParams:function(r,n){if("Object"!==t(r))return e("setUrlParams","params");if("String"!==t(n))return e("setUrlParams","url");let a=n;for(const e in r)if(Object.hasOwnProperty.call(r,e)){a=B(e,r[e],a)}return a},deleteUrlParam:v,deleteUrlParams:function(r,n){if("Array"!==t(r))return e("deleteUrlParams","keys");if("String"!==t(n))return e("deleteUrlParams","url");const a=i.uniqueArray(r);let o=n;for(const e of a)o=v(e,o);return o}};const S=Object.assign({},y,i,C,k,r);return window&&(window.xmFns=S),S}));
