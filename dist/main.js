!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).xmUtils=t()}(this,(function(){"use strict";function e(e){if("Object"!==t(e))return a("filterNumberKeys");const r={};for(const t in e)if(Object.hasOwnProperty.call(e,t)&&Number.isNaN(+t)){const n=e[t];r[t]=n}return r}function t(e){const t=Object.prototype.toString.call(e);return t.slice(8,t.length-1)}function r(e,t,r){let n=e.getMonth()+1;n=n<10?`0${n}`:n;let i=e.getDate();i=i<10?`0${i}`:i;const o=e.getDay();let a=["周日","周一","周二","周三","周四","周五","周六"][o];return r&&t===o&&(a="今日"),{date:`${n}/${i}`,week:a}}function n(e,r,n){if("String"!==t(e)&&"Number"!==t(e))return a("fillStr");if("Number"!==t(r))return a("fillStr");if("String"!==t(n)&&"Number"!==t(n))return a("fillStr");const i=(e=`${e}`).length;if(i>=r)return e;const o=r-i;return`${n}`.repeat(o)+e}function i(e,r){return"String"!==t(e)&&"Number"!==t(e)||"Number"!==t(r)?a("fillZero"):n(e,r,0)}var o={filterNumberKeys:e,capitalizedFirstLetter:function(e){return"String"!==t(e)?a("capitalizedFirstLetter"):/^[a-zA-Z\s]+$/g.test(e)?e.slice(0,1).toUpperCase()+e.slice(1):a("capitalizedFirstLetter")},percentNum:function(e,r,n=1){return"Number"!==t(e)||"Number"!==t(r)||-1===[0,1].indexOf(n)?a("percentNum"):0===e||0===r?0==n?"0%":"0.00%":0===n?`${Math.round(e/r*100)}%`:`${(Math.round(e/r*1e4)/100).toFixed(2)}%`},variableType:t,uniqueArray:function(e){return"Array"!==t(e)?a("uniqueArray"):0===e.length?e:[...new Set(e)]},uniqueComplexArray:function(e,r,n=1){if("Array"!==t(e))return a("uniqueComplexArray");if("String"!==t(r))return a("uniqueComplexArray");if(-1===[0,1].indexOf(n))return a("uniqueComplexArray");if(0===e.length)return e;0===n&&(e=e.reverse());const i=new Map,o=e.filter((e=>!i.has(e[r])&&i.set(e[r],1)));return 0===n?o.reverse():o},randomNums:function(e={}){const{min:r=2,max:n=32}=e;let{length:i=5}=e;if("Number"!==t(i)||"Number"!==t(r)||"Number"!==t(n))return a("randomNums");if(i<=0||n<=r)return a("randomNums");n-r<i&&(i=n-r+1);const o=[];for(let e=i;e>0;e--){const e=Math.round(Math.random()*(n-r))+r;o.includes(e)||o.push(e)}return o},getMinNMax:function(e){if("Array"!==t(e))return a("getMinNMax");if(0===e.length)return;let r=e[0],n=e[0];for(let t=1;t<e.length;t++)r>e[t]&&(r=e[t]),n<e[t]&&(n=e[t]);return{min:r,max:n}},flatArray:function(e){return"Array"!==t(e)?a("flatArray"):0===e.length?e:Array.prototype.flat.call(e,1/0)},getWeekDate:function(e=-1,t=!1){if(-1===[-1,0].indexOf(e))return a("getWeekDate");if("boolean"!=typeof t)return a("getWeekDate");const n=new Date,i=n.getDate(),o=n.getDay();let l,u;const s=[];for(0===e&&0===o||-1===e?u=0:0==e&&0!==o&&(u=-o),l=u;l<=6+u;l++){const e=new Date;e.setDate(i+l),s.push(r(e,o,t))}return s},formatDate:function(e,t="YYYY-MM-DD"){if(!(e instanceof Date))return a("formatDate");const r=function(e){const t={Y:[2,4],M:[1,2],D:[1,2],H:[1,2],h:[1,2],m:[1,2],s:[1,2]},r=e.match(/[a-zA-Z]+/g);if(!r)return;const n=e.match(/[Hh]+/g);if(n&&2==n.length)return;for(const e of r){const r=e[0],n=e.length;if(!t[r]||!t[r].includes(n))return;if(r.repeat(n)!=e)return}const i=e.match(/[^a-zA-Z]/g);if(!i)return;if(i.length+1!=r.length)return;return{formatSign:r,formatSplit:i}}(t);return r?function(e,t){const{formatSign:r,formatSplit:n}=t;let o=0,a="";const l=e.getFullYear(),u=e.getMonth()+1,s=e.getDate(),F=e.getHours(),c=e.getMinutes(),f=e.getSeconds(),g={Y:l,M:u,D:s,H:F,h:F>12?F-12:F,m:c,s:f};for(const e of r){const t=e[0],r=e.length,l=g[t];a+="Y"==t&&2==r?`${l}`.slice(-2):2==r?i(l,2):l,o<n.length&&(a+=n[o++])}return a}(e,r):a("formatDate")},fillStr:n,debounce:function(e,t){let r=null;return function(...n){clearTimeout(r),r=setTimeout((()=>{e.apply(this,n)}),t)}},throttle:function(e,t){let r=!0;return function(...n){r&&(r=!1,setTimeout((()=>{e.apply(this,n),r=!0}),t))}}};function a(e){if("String"!==t(e))throw new Error("functionName错误");if(!/^[a-zA-Z]+$/g.test(e))throw new Error("functionName错误");throw new Error(`${e}: 参数错误`)}const l={lightpink:"#FFB6C1",pink:"#FFC0CB",crimson:"#DC143C",lavenderblush:"#FFF0F5",palevioletred:"#DB7093",hotpink:"#FF69B4",deeppink:"#FF1493",mediumvioletred:"#C71585",orchid:"#DA70D6",thistle:"#D8BFD8",plum:"#DDA0DD",violet:"#EE82EE",magenta:"#FF00FF",fuchsia:"#FF00FF",darkmagenta:"#8B008B",purple:"#800080",mediumorchid:"#BA55D3",darkvoilet:"#9400D3",darkorchid:"#9932CC",indigo:"#4B0082",blueviolet:"#8A2BE2",mediumpurple:"#9370DB",mediumslateblue:"#7B68EE",slateblue:"#6A5ACD",darkslateblue:"#483D8B",lavender:"#E6E6FA",ghostwhite:"#F8F8FF",blue:"#0000FF",mediumblue:"#0000CD",midnightblue:"#191970",darkblue:"#00008B",navy:"#000080",royalblue:"#4169E1",cornflowerblue:"#6495ED",lightsteelblue:"#B0C4DE",lightslategray:"#778899",slategray:"#708090",doderblue:"#1E90FF",aliceblue:"#F0F8FF",steelblue:"#4682B4",lightskyblue:"#87CEFA",skyblue:"#87CEEB",deepskyblue:"#00BFFF",lightblue:"#ADD8E6",powderblue:"#B0E0E6",cadetblue:"#5F9EA0",azure:"#F0FFFF",lightcyan:"#E1FFFF",paleturquoise:"#AFEEEE",cyan:"#00FFFF",aqua:"#D4F2E7",darkturquoise:"#00CED1",darkslategray:"#2F4F4F",darkcyan:"#008B8B",teal:"#008080",mediumturquoise:"#48D1CC",lightseagreen:"#20B2AA",turquoise:"#40E0D0",auqamarin:"#7FFFAA",mediumaquamarine:"#00FA9A",mediumspringgreen:"#00FF7F",mintcream:"#F5FFFA",springgreen:"#3CB371",seagreen:"#2E8B57",honeydew:"#F0FFF0",lightgreen:"#90EE90",palegreen:"#98FB98",darkseagreen:"#8FBC8F",limegreen:"#32CD32",lime:"#00FF00",forestgreen:"#228B22",green:"#008000",darkgreen:"#006400",chartreuse:"#7FFF00",lawngreen:"#7CFC00",greenyellow:"#ADFF2F",olivedrab:"#556B2F",beige:"#F5F5DC",lightgoldenrodyellow:"#FAFAD2",ivory:"#FFFFF0",lightyellow:"#FFFFE0",yellow:"#FFFF00",olive:"#808000",darkkhaki:"#BDB76B",lemonchiffon:"#FFFACD",palegodenrod:"#EEE8AA",khaki:"#F0E68C",gold:"#FFD700",cornislk:"#FFF8DC",goldenrod:"#DAA520",floralwhite:"#FFFAF0",oldlace:"#FDF5E6",wheat:"#F5DEB3",moccasin:"#FFE4B5",orange:"#FFA500",papayawhip:"#FFEFD5",blanchedalmond:"#FFEBCD",navajowhite:"#FFDEAD",antiquewhite:"#FAEBD7",tan:"#D2B48C",brulywood:"#DEB887",bisque:"#FFE4C4",darkorange:"#FF8C00",linen:"#FAF0E6",peru:"#CD853F",peachpuff:"#FFDAB9",sandybrown:"#F4A460",chocolate:"#D2691E",saddlebrown:"#8B4513",seashell:"#FFF5EE",sienna:"#A0522D",lightsalmon:"#FFA07A",coral:"#FF7F50",orangered:"#FF4500",darksalmon:"#E9967A",tomato:"#FF6347",mistyrose:"#FFE4E1",salmon:"#FA8072",snow:"#FFFAFA",lightcoral:"#F08080",rosybrown:"#BC8F8F",indianred:"#CD5C5C",red:"#FF0000",brown:"#A52A2A",firebrick:"#B22222",darkred:"#8B0000",maroon:"#800000",white:"#FFFFFF",whitesmoke:"#F5F5F5",gainsboro:"#DCDCDC",lightgrey:"#D3D3D3",silver:"#C0C0C0",darkgray:"#A9A9A9",gray:"#808080",dimgray:"#696969",black:"#000000"};function u(e){return e=e.trim().toLowerCase(),!!l[e]}function s(e){return u(e=e.trim().toLowerCase())?p(l[e]):a("RGB2HEX")}function F(e){return u(e=e.trim().toLowerCase())?l[e]:a("RGB2HEX")}function c(e){return e=e.trim().replace(/ /g,""),/^rgb\(\d{1,3}\,\d{1,3}\,\d{1,3}\)$/g.test(e)}function f(e){return g(e)||m(e)}function g(e){return e=e.trim(),/^#[0-9a-zA-Z]{3}$/g.test(e)}function m(e){return e=e.trim(),/^#[0-9a-zA-Z]{6}$/g.test(e)}function d(e){if(c(e=e.trim().replace(/ /g,""))){const t=e.slice(4,-1).split(",");for(const e in t)if(Object.hasOwnProperty.call(t,e)){const r=t[e];t[e]=(r-0).toString(16)}return`#${t.join("").toUpperCase()}`}return a("RGB2HEX")}function p(e){if(g(e=e.trim())){const t=e.slice(1,2),r=e.slice(2,3),n=e.slice(3,4);return`rgb(${`${Number.parseInt(t+t,16)},${Number.parseInt(r+r,16)},${Number.parseInt(n+n,16)}`})`}if(m(e)){const t=e.slice(1,3),r=e.slice(3,5),n=e.slice(5,7);return`rgb(${`${Number.parseInt(t,16)},${Number.parseInt(r,16)},${Number.parseInt(n,16)}`})`}return a("HEX2RGB")}function h(e){const t=e.trim();if(g(t)){const e=t.slice(1,2),r=t.slice(2,3),n=t.slice(3,4);return`#${e+e+r+r+n+n}`}return m(e)?e:a("shortHEXVal2LongHEXVal")}function D(e,t){const r={};for(const n in e)if(Object.hasOwnProperty.call(e,n)){const i=e[n],o=t[n];r[n]=!i&&o?o:i&&!o||i&&o&&("initial"===o||i===o)?i:o}for(const e in t)if(Object.hasOwnProperty.call(t,e)){const n=t[e];r[e]||(r[e]=n)}return r}var E={isColorVal:function(e){return c(e)||f(e)||u(e)},isStringColorVal:u,stringColor2RGB:s,stringColor2HEX:F,isRGBVal:c,isHEXVal:f,isShortHEXVal:g,isLongHEXVal:m,RGB2HEX:d,HEX2RGB:p,shortHEXVal2LongHEXVal:h,eqColorVal:function(e,t){return e=e.trim(),t=t.trim(),c(e)&&c(t)?function(e,t){return e=e.trim(),t=t.trim(),c(e)&&c(t)?e.replace(/ /g,"")==t.replace(/ /g,""):a("eqRGBVal")}(e,t):f(e)&&f(t)?function(e,t){return e=e.trim(),t=t.trim(),f(e)&&f(t)?h(e).toUpperCase()==h(t).toUpperCase():a("eqHEXVal")}(e,t):u(e)&&u(t)?function(e,t){return e=e.trim(),t=t.trim(),u(e)&&u(t)?e.toLowerCase()==t.toLowerCase():a("eqStringColorVal")}(e,t):c(e)&&f(t)||f(e)&&c(t)?function(e,t){return c(e)&&f(t)?h(d(e))==h(t).toUpperCase():f(e)&&c(t)?h(d(t))==h(e).toUpperCase():a("eqRGBNHEX")}(e,t):u(e)&&!u(t)||!u(e)&&u(t)?function(e,t){return u(e)&&c(t)?s(e)==t.replace(/ /g,""):u(e)&&f(t)?F(e).toUpperCase()==h(t).toUpperCase():u(t)&&c(e)?s(t)==e.replace(/ /g,""):u(t)&&f(e)?F(t).toUpperCase()==h(e).toUpperCase():a("eqStringColorValNOther")}(e,t):a("eqColorVal")},assignCssObj:D,getCSSStyle:function(t){return t instanceof window.HTMLElement?D(e(window.getComputedStyle(t)),e(t.style)):a("getCSSStyle")}};return Object.assign({},E,o)}));
